function [M] = full_transform(X,Y,Z,x1,y1,z1,x2,y2,z2)
M = zeros(4,26);
[a,b,c] = f_angles(X,Y,Z,x1,z1);
[p,q,r] = f_angles(X,Y,Z,x2,z2);
foot1 = [x1;y1;z1;1];
toe1 = translate(3,0,0)*[x1;y1;z1;1];
knee1 = foot1 + Rx(a)*Ry(b)*[0;0;15;1];
hip1 = foot1 + Rx(a)*Ry(b)*translate(0,0,15)*Ry(c-pi)*[0;0;15;1]
com = [X;Y;Z;1];
foot2 = [x2;y2;z2;1];
toe2 = translate(3,0,0)*[x2;y2;z2;1];
knee2 =  foot2 + Rx(p)*Ry(q)*[0;0;15;1];
hip2 = foot2 + Rx(p)*Ry(q)*translate(0,0,15)*Ry(r-pi)*[0;0;15;1]
neck = com + [0;0;20;1];
head = com + [0;0;25;1];
shld1 = neck + [0;-5;0;1];
shld2 = neck + [0;5;0;1];
hand1 = [x2;Y-5;Z+20-(100-(X-x2).^2).^0.5;1];
hand2 = [x1;Y+5;Z+20-(100-(X-x1).^2).^0.5;1];
ax1 = hip1 + [0;0;1;1];
ax2 = hip2 + [0;0;1;1];
M(:,1) = head;
M(:,2) = neck;
M(:,3) = shld1;
M(:,4) = hand1;
M(:,5) = shld1;
M(:,6) = shld2;
M(:,7) = hand2;
M(:,8) = shld2;
M(:,9) = neck;
M(:,10)= com;
M(:,11)= hip1;
M(:,12)= ax1;
M(:,13)= hip1;
M(:,14)= knee1;
M(:,15)= foot1;
M(:,16)= toe1;
M(:,17)= foot1;
M(:,18)= knee1;
M(:,19)= hip1;
M(:,20)= com;
M(:,21)= hip2;
M(:,22)= ax2;
M(:,23)= hip2;
M(:,24)= knee2;
M(:,25)= foot2;
M(:,26)= toe2;
end